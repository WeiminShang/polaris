<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fairwinds</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/normalize.css">
  <link rel="stylesheet" href="/static/css/main.css">
</head>

<body>
  <div class="header">
    <h1>Fairwinds</h1>
  </div>

  <div class="cluster-score">
    <p>Overall Score:</p>
    <h2>{{ .ClusterSummary.Score }}%</h2>
    <div class="status">
      <div class="failing">
        <div class="warning" style="width: {{ .ClusterSummary.WarningWidth 400 }}px;">
          <div class="passing" style="width: {{ .ClusterSummary.SuccessWidth 400 }}px;"></div>
        </div>
      </div>
    </div>
    <div class="summary">
      <div class="item">
        <span class="label">Successes:</span>
        <strong class="value">{{ .ClusterSummary.Successes }}</strong>
      </div>
      <div class="item">
        <span class="label">Warnings:</span>
        <strong class="value">{{ .ClusterSummary.Warnings }}</strong>
      </div>
      <div class="item">
        <span class="label">Failures:</span>
        <strong class="value">{{ .ClusterSummary.Failures }}</strong>
      </div>
    </div>
  </div>

{{ range .NamespacedResults }}
  <div class="namespace-header">
    <h3>Namespace: <strong>{{ .Namespace }}</strong></h3>
  </div>

  <table class="namespace-content">
    {{ range .Results }}
      <tr>
        <td>
          <div class="name"><span class="caret-expander expanded"></span>{{ .Type }}: <strong>{{ .Name }}</strong></div>
          <ul class="extra">
            {{ range .Messages}}
              <li class="{{ .Type }}"><span>&#{{ .HTMLSpecialCharCode }};</span> {{ .Message }}</li>
            {{ end }}
          </ul>
        </td>
        <td class="status-bar">
          <div class="status">
            <div class="failing">
              <div class="warning" style="width: {{ .Summary.WarningWidth 200 }}px;">
                <div class="passing" style="width: {{ .Summary.SuccessWidth 200 }}px;"></div>
              </div>
            </div>
          </div>
        </td>
      </tr>
    {{ end }}
  </table>
{{ end }}
</body>

</html>
